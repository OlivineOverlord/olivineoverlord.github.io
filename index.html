<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Joshua Shea | Olivine Overlord</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Joshua Shea ‚Äì Postdoctoral Researcher in Earth Sciences at the University of Cambridge. Exploring carbon in the mantle, planetary geochemistry, and scientific storytelling.">
  <meta name="author" content="Joshua Shea">
  <meta name="keywords" content="Joshua Shea, Geochemistry, Cambridge, Earth Science, Planetary Science, Igneous Petrology, Volatiles, Research, Mars">

  <!-- Open Graph for LinkedIn and other platforms -->
  <meta property="og:title" content="Joshua Shea | Olivine Overlord">
  <meta property="og:description" content="Earth scientist exploring deep carbon, magmas, and planetary science. Based at the University of Cambridge.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://olivineoverlord.github.io">
  <meta property="og:image" content="https://olivineoverlord.github.io/preview.png">

  <!-- Bluesky Meta (custom tag) -->
  <meta name="generator" content="Joshua Shea" />
  <meta property="at:profile" content="https://bsky.app/profile/olivineoverlord.bsky.social" />
  
  <link rel="stylesheet" href="style/style.css" />

  <script data-goatcounter="https://olivineoverlord.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
</head>
<body>
  <header>
    <h1>Dr Joshua Shea</h1>
    <p class="subtitle">Postdoctoral Researcher in Earth Sciences | University of Cambridge</p>
    <nav>
      <a href="index.html" class="link-underline">Home</a>
      <a href="about.html" class="link-underline">About</a>
      <a href="research.html" class="link-underline">Research</a>
      <a href="blog.html" class="link-underline">Blog</a>
      <a href="contact.html" class="link-underline">Contact</a>
    </nav>
    <button id="toggle-theme" aria-label="Toggle dark mode">üåì</button>
  </header>

<main>
  <!-- Professional Introduction -->
  <section style="text-align: center; padding: 0.5rem 0;">
    <p class="lead">
      I am a postdoctoral researcher in the Department of Earth Sciences at the University of Cambridge, specializing in igneous petrology, mantle geochemistry, and planetary science. My research investigates carbon cycling in Earth's deep interior and the geochemical evolution of planetary mantles, with particular focus on volatile transport mechanisms and melt generation processes.
    </p>
  </section>

  <!-- Recent Publications -->
  <section class="section">
    <h2 class="section-title">Recent Publications</h2>
    <div id="publications-container">
      <p class="muted center">Loading recent publications...</p>
    </div>
    <div class="center" style="margin-top: 1.5rem;">
      <a href="https://scholar.google.com/citations?user=6cWCOHkAAAAJ" target="_blank" class="link-underline">View all publications ‚Üí</a>
    </div>
  </section>

  <!-- Recent Highlights -->
  <section class="section">
    <h2 class="section-title">Recent Highlights</h2>
    <div class="grid grid-auto">
      <a href="research.html" style="background: var(--bg); padding: 1rem 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow); transition: all 0.3s ease; border: 1px solid var(--border); text-align: left; text-decoration: none; color: inherit; display: block;" onmouseover="this.style.boxShadow='var(--shadow-hover)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.boxShadow='var(--shadow)'; this.style.transform='translateY(0)'">
        <h3 style="margin-top: 0; margin-bottom: 0.5rem; color: var(--accent); font-size: 1.1rem; font-weight: 600; font-family: 'EB Garamond', serif; line-height: 1.3;">üéì Current Research</h3>
        <p style="margin: 0.25rem 0; line-height: 1.4; font-size: 0.95rem;">Carbon geochemistry, planetary mantles, and analytical development</p>
        <p class="small muted" style="margin: 0.25rem 0 0 0;">Active projects</p>
      </a>
      
      <a href="about.html" style="background: var(--bg); padding: 1rem 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow); transition: all 0.3s ease; border: 1px solid var(--border); text-align: left; text-decoration: none; color: inherit; display: block;" onmouseover="this.style.boxShadow='var(--shadow-hover)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.boxShadow='var(--shadow)'; this.style.transform='translateY(0)'">
        <h3 style="margin-top: 0; margin-bottom: 0.5rem; color: var(--accent); font-size: 1.1rem; font-weight: 600; font-family: 'EB Garamond', serif; line-height: 1.3;">üèÜ Recent Recognition</h3>
        <p style="margin: 0.25rem 0; line-height: 1.4; font-size: 0.95rem;">A.H. Voisey Medal</p>
        <p class="small muted" style="margin: 0.25rem 0 0 0;">Geological Society of Australia, 2024</p>
      </a>
      
      <a href="blog.html" style="background: var(--bg); padding: 1rem 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow); transition: all 0.3s ease; border: 1px solid var(--border); text-align: left; text-decoration: none; color: inherit; display: block;" onmouseover="this.style.boxShadow='var(--shadow-hover)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.boxShadow='var(--shadow)'; this.style.transform='translateY(0)'">
        <h3 style="margin-top: 0; margin-bottom: 0.5rem; color: var(--accent); font-size: 1.1rem; font-weight: 600; font-family: 'EB Garamond', serif; line-height: 1.3;">üìù Recent Blogs</h3>
        <div id="latest-blog-card">
          <p style="margin: 0.25rem 0; line-height: 1.4; font-size: 0.95rem;">Loading latest post...</p>
        </div>
      </a>
      
      <a href="contact.html" style="background: var(--bg); padding: 1rem 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow); transition: all 0.3s ease; border: 1px solid var(--border); text-align: left; text-decoration: none; color: inherit; display: block;" onmouseover="this.style.boxShadow='var(--shadow-hover)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.boxShadow='var(--shadow)'; this.style.transform='translateY(0)'">
        <h3 style="margin-top: 0; margin-bottom: 0.5rem; color: var(--accent); font-size: 1.1rem; font-weight: 600; font-family: 'EB Garamond', serif; line-height: 1.3;">ü§ù Collaboration</h3>
        <p style="margin: 0.25rem 0; line-height: 1.4; font-size: 0.95rem;">Open to research partnerships and academic discussions</p>
        <p class="small muted" style="margin: 0.25rem 0 0 0;">Get in touch</p>
      </a>
    </div>
  </section>

  <!-- Professional Networks -->
  <section class="section center">
    <h2>Professional Engagement</h2>
    <p>
      I am committed to open science, international collaboration, and public engagement with Earth science research. 
      I serve as a committee member of the New South Wales Division of the Geological Society of Australia, I am on the Early Career Advisory Panel for the National Division of the Geological Society of Australia, and maintain active collaborations across the UK, US, Europe, Australia and China.
    </p>
  </section>
</main>

<footer>
  <p>¬© 2025 Joshua Shea | <a href="https://bsky.app/profile/olivineoverlord.bsky.social" target="_blank" class="link-underline">@OlivineOverlord</a> | <a href="https://www.esc.cam.ac.uk/staff/dr-joshua-shea" target="_blank" class="link-underline">Cambridge Profile</a></p>
</footer>

<script>
  // Theme toggle functionality
  const toggle = document.getElementById('toggle-theme');
  const root = document.documentElement;

  if (localStorage.getItem('theme') === 'dark' ||
     (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    root.setAttribute('data-theme', 'dark');
  }

  toggle.addEventListener('click', () => {
    const isDark = root.getAttribute('data-theme') === 'dark';
    root.setAttribute('data-theme', isDark ? 'light' : 'dark');
    localStorage.setItem('theme', isDark ? 'light' : 'dark');
  });
</script>

<script src="blog/posts.js"></script>
<script>
  // ORCID API integration
  const ORCID_ID = '0000-0001-7869-1479';
  const ORCID_API_BASE = 'https://pub.orcid.org/v3.0';

  // Filter for published papers only
  const isPublishedPaper = (workType) => {
    const publishedTypes = [
      'journal-article',
      'book-chapter',
      'book',
      'conference-paper',
      'edited-book'
    ];
    return publishedTypes.includes(workType?.toLowerCase());
  };

  const fetchORCIDPublications = async () => {
    const container = document.getElementById("publications-container");
    
    try {
      console.log('Fetching ORCID publications...');
      
      // Fetch works from ORCID API
      const response = await fetch(`${ORCID_API_BASE}/${ORCID_ID}/works`, {
        headers: {
          'Accept': 'application/json'
        }
      });

      if (!response.ok) {
        throw new Error('Failed to fetch ORCID data');
      }

      const data = await response.json();
      console.log('ORCID data received:', data);
      
      // Prepare all detail requests in parallel (limit to first 10 for speed)
      const workPromises = data.group.slice(0, 10).map(async (workGroup) => {
        try {
          const workDetail = workGroup['work-summary'][0];
          const putCode = workDetail['put-code'];
          
          const detailResponse = await fetch(`${ORCID_API_BASE}/${ORCID_ID}/work/${putCode}`, {
            headers: {
              'Accept': 'application/json'
            }
          });

          if (!detailResponse.ok) return null;

          const detail = await detailResponse.json();
          const workType = detail.type;
          
          // Only process published papers
          if (isPublishedPaper(workType)) {
            const title = detail.title?.title?.value || 'Untitled';
            
            // Skip corrections
            if (!title.toLowerCase().includes('correction') && 
                !title.toLowerCase().includes('erratum') &&
                !title.toLowerCase().includes('corrigendum')) {
              
              // Extract authors
              let authors = [];
              if (detail.contributors && detail.contributors.contributor) {
                authors = detail.contributors.contributor
                  .filter(contrib => contrib['contributor-attributes'] && 
                         contrib['contributor-attributes']['contributor-role'] === 'author')
                  .map(author => {
                    const creditName = author['credit-name'];
                    if (creditName && creditName.value) {
                      return creditName.value;
                    }
                    return null;
                  })
                  .filter(name => name !== null);
              }
              
              const journal = detail['journal-title']?.value || '';
              const year = detail['publication-date']?.year?.value || '';
              
              // Try multiple ways to get a URL
              let url = null;
              const externalIds = detail['external-ids']?.['external-id'] || [];
              
              // Look for DOI first
              const doiId = externalIds.find(id => id.type === 'doi');
              if (doiId) {
                url = `https://doi.org/${doiId.value}`;
              }
              
              // If no DOI, try other identifiers
              if (!url) {
                const pmidId = externalIds.find(id => id.type === 'pmid');
                if (pmidId) {
                  url = `https://pubmed.ncbi.nlm.nih.gov/${pmidId.value}`;
                }
              }
              
              // If still no URL, try URL field directly
              if (!url && detail.url && detail.url.value) {
                url = detail.url.value;
              }

              return {
                title,
                journal,
                year: parseInt(year) || 0,
                type: workType,
                url,
                authors,
                hasUrl: !!url
              };
            }
          }
          return null;
        } catch (err) {
          console.error('Error processing work:', err);
          return null;
        }
      });

      // Wait for all requests to complete in parallel
      const allResults = await Promise.all(workPromises);
      
      // Filter out nulls and sort by year
      const publishedPapers = allResults
        .filter(paper => paper !== null)
        .sort((a, b) => b.year - a.year)
        .slice(0, 3);
      
      console.log('Published papers found:', publishedPapers);
      
      if (publishedPapers.length === 0) {
        container.innerHTML = '<p class="muted center">No published papers found.</p>';
        return;
      }

      // Generate HTML for publications
      const publicationsHTML = publishedPapers.map(paper => {
        console.log('Processing paper:', paper.title, 'Authors:', paper.authors, 'URL:', paper.url);
        
        // Format authors for Harvard style
        let authorString = '';
        if (paper.authors && paper.authors.length > 0) {
          const formattedAuthors = paper.authors.map(author => {
            // Bold Joshua Shea's name (check various formats)
            const joshNames = ['Joshua Shea', 'J. Shea', 'Shea, J.', 'Shea, Joshua', 'J.J.S. Shea', 'Joshua J. Shea'];
            const isBold = joshNames.some(name => 
              author.toLowerCase().includes(name.toLowerCase()) || 
              name.toLowerCase().includes(author.toLowerCase())
            );
            
            return isBold ? `<strong>${author}</strong>` : author;
          });
          
          if (formattedAuthors.length === 1) {
            authorString = formattedAuthors[0];
          } else if (formattedAuthors.length === 2) {
            authorString = `${formattedAuthors[0]} and ${formattedAuthors[1]}`;
          } else if (formattedAuthors.length > 2) {
            const lastAuthor = formattedAuthors.pop();
            authorString = `${formattedAuthors.join(', ')} and ${lastAuthor}`;
          }
        }
        
        // Create Harvard-style reference
        const year = paper.year || 'n.d.';
        const journal = paper.journal ? `<em>${paper.journal}</em>` : '';
        
        // Full Harvard format: Author(s) (Year). Title, Journal.
        const reference = `${authorString ? `${authorString} ` : ''}(${year}). <strong style="color: var(--accent);">${paper.title}</strong>, ${journal ? `${journal}.` : ''}`;
        
        if (paper.url) {
          return `
            <a href="${paper.url}" target="_blank" class="publication-card card-clickable" style="text-align: left; margin-bottom: 1rem; text-decoration: none; color: inherit; display: block;">
              <p style="margin: 0; line-height: 1.5; color: var(--text);">
                ${reference}
              </p>
            </a>
          `;
        } else {
          return `
            <div class="publication-card" style="text-align: left; margin-bottom: 1rem;">
              <p style="margin: 0; line-height: 1.5; color: var(--text);">
                ${reference}
              </p>
              <p class="small muted" style="margin-top: 0.5rem; margin-bottom: 0;">
                <a href="https://scholar.google.com/scholar?q=${encodeURIComponent(paper.title)}" target="_blank" class="link-underline">Search on Google Scholar</a>
              </p>
            </div>
          `;
        }
      });

      container.innerHTML = publicationsHTML.join('');

    } catch (error) {
      console.error('Error fetching ORCID publications:', error);
      container.innerHTML = `
        <div class="card center">
          <p class="muted">Recent publications available on <a href="https://orcid.org/${ORCID_ID}" target="_blank" class="link-underline">ORCID</a> and <a href="https://scholar.google.com/citations?user=6cWCOHkAAAAJ" target="_blank" class="link-underline">Google Scholar</a>.</p>
        </div>
      `;
    }
  };

  // Load latest blog post for highlight card
  const renderLatestBlog = () => {
    const container = document.getElementById("latest-blog-card");
    
    if (!posts || posts.length === 0) {
      container.innerHTML = '<p style="margin: 0.25rem 0; line-height: 1.4; font-size: 0.95rem;">Recent updates coming soon</p><p class="small muted" style="margin: 0.25rem 0 0 0;">Check back later</p>';
      return;
    }

    const latest = [...posts].sort((a, b) => new Date(b.date) - new Date(a.date))[0];
    
    const formattedDate = new Date(latest.date).toLocaleDateString(undefined, {
      month: 'short',
      year: 'numeric'
    });

    container.innerHTML = `
      <p style="margin: 0.25rem 0; line-height: 1.4; font-size: 0.95rem;">${latest.title}</p>
      <p class="small muted" style="margin: 0.25rem 0 0 0;">${formattedDate}</p>
    `;
  };

  // Initialize when DOM is ready
  document.addEventListener('DOMContentLoaded', () => {
    console.log('DOM loaded, initializing...');
    renderLatestBlog();
    fetchORCIDPublications();
  });
</script>

</body>
</html>